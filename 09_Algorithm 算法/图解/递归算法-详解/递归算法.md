> åˆ›å»ºäº2021å¹´12æœˆ15æ—¥
> 	   ä½œè€…ï¼šæƒ³æƒ³

[toc]

### å‰è¨€

å¹³å¸¸å¼€å‘ä¸­ï¼Œç»å¸¸ä¼šç¢°åˆ°ä¸€äº›åŒ…å«æ•°æ®å±‚çº§ç»“æ„çš„æ•°æ®åœ¨è¡¨ä¸­ã€‚æˆ‘ä»¬éœ€è¦å°†è¿™æ ·çš„æ•°æ®ç»„è£…æˆå¸¦æœ‰å±‚çº§çš„ json æ ¼å¼ã€‚æˆ‘ä¸ªäººè®¤ä¸ºç®€å•çš„æ•°æ®ï¼Œå¦‚æœä¸æ¶‰åŠæ•°æ®åŠ å·¥çš„è¯ï¼Œé€’å½’ç®—æ³•å®Œå…¨å¯ä»¥å¤„ç†ï¼Œç°åœ¨æˆ‘ä»¬ä»æ­å»ºæ•°æ®åˆ°åŠ å·¥æœ€åè¿”å›æ•ˆæœæ¥å±•ç¤ºé€’å½’ç®—æ³•ã€‚

æç¤ºï¼šé˜…è¯»æ¬¡ç¯‡æ–‡ç« ï¼Œæ¶‰åŠåˆ°æ¥å£è¯·æ±‚ï¼Œå¤çº¿ä»£ç éœ€è¦ Spring ç›¸å…³åŸºç¡€ã€‚



# é€’å½’ç®—æ³•ç®€å•å®ç°

## 1ã€å‡†å¤‡æ•°æ®

| id(ä¸»é”®) | name(å§“å) | age(å¹´çºª) | parentId(çˆ¶çº§ID) |
| -------- | ---------- | --------- | ---------------- |
| 1        | è€æ˜       | 60        | -1               |
| 2        | å¤§æ˜       | 36        | 1                |
| 3        | å¤§çº¢       | 35        | 1                |
| 4        | å°æ˜       | 12        | 2                |

æˆ‘ä»¬è‡ªå·±æ¨¡æ‹Ÿäº†ä¸€å¼ è¿™æ ·çš„è¡¨ï¼Œæœ€ç»ˆçš„æ•°æ®ç»“æ„åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š

![image-20211215174831427](images/image-20211215174831427.png)

ä½†æ˜¯æˆ‘ä»¬åœ¨ç¨‹åºé‡Œåº”è¯¥å¦‚ä½•æ“ä½œå‘¢ï¼Ÿè¯·è·Ÿç€æˆ‘çš„è„šæ­¥ä¸€æ­¥ä¸€æ­¥æ¥

## 2ã€åˆ›å»ºå®ä½“ç±»

ä¸ºäº†å‡å°‘ä»£ç é‡ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨äº† lombok ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªç¯å¢ƒçš„åŒå­¦ï¼Œå»æ‰`@Data`æ³¨è§£ï¼Œæ‰‹åŠ¨ç”Ÿæˆ Getingã€Setting

```java
@Data
public class People {

    private int id;
    private String name;
    private int age;
    private int parentId;
    private List<People> people;
}
```

## 3ã€è·å–æ•°æ®

è¿™é‡Œæˆ‘ä»¬å°±ç®€å•å†™ä¸ªæ–¹æ³•`set`è¿›å¯¹è±¡é‡Œ

```java
public List<People> getData(){
		List<People> data = new ArrayList<>();
		People people = new People();
		people.setId(1);
		people.setName("è€æ˜");
		people.setAge(60);
		people.setParentId(-1);
		data.add(people);
//  ....(æ­¤å¤„èƒœç‡)
}
```

é€šè¿‡è°ƒç”¨ `getData()`æ–¹æ³•è·å–åˆ°ä¸Šé¢çš„æ•°æ®

## 4ã€é€’å½’ç®—æ³•ç»„è£…æ•°æ®

å…„å¼Ÿä»¬ï½ é‡å¤´æˆæ¥äº†ï¼Œåˆ›å»ºé€’å½’æ–¹æ³•

```java
	public List<People> compositeTree(List<People> data,int parentId){
		List<People> dist = new ArrayList<>();
		for (People p : data) {
			if (p.getParentId()==parentId){
        // è¦ç”¨çˆ¶çº§å»setPeopleï¼Œè¿™æ ·å­çˆ¶éƒ½ä¼šåœ¨å¯¹è±¡ä¸­å­˜åœ¨
				p.setPeople(compositeTree(data, p.getId()));
				dist.add(p);
			}
		}
		return dist;
	}
```

![image-20211215174915959](images/image-20211215174915959.png)

ä¸»æ–¹æ³•è°ƒç”¨

```java
	public R<List<People>> test(){
    // è·å–æ•°æ®
		List<People> data = getData();
    // é€’å½’ç»„è£…æ•°æ®
		List<People> people = compositeTree(data, -1);
		return R.data(people);
	}
```

æœ€åå¾—åˆ°æ•°æ®

![image-20211215175106130](images/image-20211215175106130.png)

> <center><b><font color=blue >å¥½äº†åˆ°è¿™æˆ‘ä»¬çš„åˆ†äº«ä¹Ÿç»“æŸäº†ğŸ˜‰</font></b></center>
> 
> <center><b><font color=blue >å¸Œæœ›ä»¥ä¸Šæ–¹æ³•å¯ä»¥å¸®åˆ°æ‚¨ï¼Œç¥æ‚¨å·¥ä½œæ„‰å¿«ï¼ğŸ’–</font></b></center>
> 
> <center>ğŸ‘‡</center>
> <center><b><font color=pink >å¯¹æ‚¨æœ‰å¸®åŠ©çš„è¯è®°ç‚¹èµå¾—æ”¶è—å“¦ï¼ğŸ‘</font></b></center>
> <center><font color=blue>æˆ‘æ˜¯</font>       <font color=red>æƒ³æƒ³</font>     <font color=blue>ä»å°ç™½ä¸€æ­¥ä¸€æ­¥åœ°å˜æˆå·¥å…·äºº ğŸ˜›</font></center>

